<div class="home-container">

  <div *ngIf="currentUser" class="welcome-banner">
    <h2>Welcome back, {{ currentUser.firstName }}!</h2>
    <p>Check out the latest products from all our sellers.</p>
  </div>
  <div *ngIf="errorMessage" class="error-banner">
    <p>{{ errorMessage }}</p>
  </div>

  <!-- Search and Filter Section -->
  <div class="search-filter-container">
    <div class="search-box">
      <input 
        type="text" 
        placeholder="Search by product name or description..." 
        [(ngModel)]="searchKeyword"
        class="search-input"
      />
    </div>

    <div class="filter-controls">
      <div class="filter-group">
        <label>Price Range</label>
        <div class="filter-inputs">
          <input 
            type="number" 
            placeholder="Min Price" 
            [(ngModel)]="minPrice"
            class="filter-input"
          />
          <input 
            type="number" 
            placeholder="Max Price" 
            [(ngModel)]="maxPrice"
            class="filter-input"
          />
        </div>
      </div>

      <div class="filter-group">
        <label>Quantity Available</label>
        <div class="filter-inputs">
          <input 
            type="number" 
            placeholder="Min Qty" 
            [(ngModel)]="minQuantity"
            class="filter-input"
          />
          <input 
            type="number" 
            placeholder="Max Qty" 
            [(ngModel)]="maxQuantity"
            class="filter-input"
          />
        </div>
      </div>

      <div class="filter-group">
        <label>Product Date Range</label>
        <div class="filter-inputs">
          <input 
            type="date" 
            [(ngModel)]="startDate"
            class="filter-input"
          />
          <input 
            type="date" 
            [(ngModel)]="endDate"
            class="filter-input"
          />
        </div>
      </div>

      <div class="button-group">
        <button (click)="onSearch()" class="btn-search">Search</button>
        <button (click)="clearFilters()" class="btn-clear">Clear All</button>
      </div>
    </div>
  </div>

  <div class="product-grid" *ngIf="products.length > 0; else noProducts">

    <app-product-card
      *ngFor="let product of products"
      [product]="product"
      (edit)="onProductUpdated()"
    (delete)="onProductDeleted()">
    </app-product-card>
  </div>

  <ng-template #noProducts>
    <p>No products have been listed yet. Check back soon!</p>
  </ng-template>

  <mat-paginator
    [length]="totalElements"
    [pageSize]="pageSize"
    [pageSizeOptions]="[5, 10, 20]"
    (page)="onPageChange($event)">
  </mat-paginator>

</div>
